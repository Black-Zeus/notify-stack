# =============================================================================
# NOTIFY-STACK - Environment Variables
# =============================================================================
# Variables sensibles y configuración del sistema
# IMPORTANTE: Este archivo NO debe subirse a control de versiones

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MySQL Database settings
MYSQL_ROOT_PASSWORD=notify_root_password_2024
MYSQL_DATABASE=notify_db
MYSQL_USER=notify_user
MYSQL_PASSWORD=notify_password_secure_2024
MYSQL_HOST=mysql
MYSQL_PORT=3306

# Database pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=3600

# =============================================================================
# API AUTHENTICATION
# =============================================================================
# Claves de API para autenticación (separadas por comas)
# Generar con: openssl rand -hex 32
API_KEYS=notify_api_key_abc123def456,notify_api_key_789xyz012

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://bkn_redis:6379/0
REDIS_TTL_DEFAULT=3600
REDIS_TTL_IDEMPOTENCY=86400

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================
CELERY_BROKER_URL=redis://bkn_redis:6379/0
CELERY_RESULT_BACKEND=redis://bkn_redis:6379/0
CELERY_TASK_TIMEOUT=300
MAX_RETRIES=3
RETRY_BACKOFF=2

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# Entorno: development, staging, production
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
LOG_FORMAT=json

# Server configuration
HOST=0.0.0.0
PORT=8000

# =============================================================================
# EMAIL PROVIDERS - SMTP
# =============================================================================
# Gmail SMTP (ejemplo)
SMTP_GMAIL_HOST=smtp.gmail.com
SMTP_GMAIL_PORT=587
SMTP_GMAIL_USERNAME=vasotonotify@gmail.com
SMTP_GMAIL_PASSWORD=kjbaldrqzahsjqzg
SMTP_GMAIL_USE_TLS=true
SMTP_GMAIL_FROM_NAME=Sistema de Notificaciones

# Outlook SMTP (ejemplo)
SMTP_OUTLOOK_HOST=smtp-mail.outlook.com
SMTP_OUTLOOK_PORT=587
SMTP_OUTLOOK_USERNAME=notifications@yourcompany.com
SMTP_OUTLOOK_PASSWORD=your_password_here
SMTP_OUTLOOK_USE_TLS=true

# SMTP personalizado (ejemplo)
SMTP_CUSTOM_HOST=mail.yourcompany.com
SMTP_CUSTOM_PORT=587
SMTP_CUSTOM_USERNAME=notifications@yourcompany.com
SMTP_CUSTOM_PASSWORD=your_password_here
SMTP_CUSTOM_USE_TLS=true
SMTP_CUSTOM_USE_SSL=false

# =============================================================================
# MAILPIT CONFIGURATION (Development)
# =============================================================================
# MailPit settings for development email capture
MAILPIT_SMTP_HOST=mailpit
MAILPIT_SMTP_PORT=1025
MAILPIT_WEB_HOST=mailpit
MAILPIT_WEB_PORT=8025
MAILPIT_WEB_URL=http://localhost:8025

# =============================================================================
# EMAIL PROVIDERS - APIs
# =============================================================================
# SendGrid API
SENDGRID_API_KEY=SG.your_sendgrid_api_key_here
SENDGRID_FROM_EMAIL=notifications@yourcompany.com
SENDGRID_FROM_NAME=Your Company

# Amazon SES
AWS_SES_REGION=us-east-1
AWS_SES_ACCESS_KEY_ID=your_aws_access_key
AWS_SES_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_SES_FROM_EMAIL=notifications@yourcompany.com

# Mailgun API
MAILGUN_API_KEY=your_mailgun_api_key_here
MAILGUN_DOMAIN=yourcompany.com
MAILGUN_FROM_EMAIL=notifications@yourcompany.com

# =============================================================================
# TESTING PROVIDERS
# =============================================================================
# Mailtrap for testing (alternative to MailPit)
SMTP_TEST_USERNAME=your_mailtrap_username
SMTP_TEST_PASSWORD=your_mailtrap_password
SMTP_TEST_HOST=smtp.mailtrap.io
SMTP_TEST_PORT=587

# =============================================================================
# SECURITY & LIMITS
# =============================================================================
# Límites de payload y destinatarios
MAX_PAYLOAD_SIZE=1048576
MAX_RECIPIENTS=100
MAX_ATTACHMENTS=10
MAX_ATTACHMENT_SIZE=5242880

# Timeouts
SMTP_TIMEOUT=30
HTTP_TIMEOUT=30

# =============================================================================
# FEATURES & TOGGLES
# =============================================================================
# Características opcionales
ENABLE_EMAIL_VALIDATION=true
ENABLE_MX_LOOKUP=false
ENABLE_RATE_LIMITING=true
ENABLE_METRICS=true
ENABLE_DATABASE_LOGGING=true

# Validación de modelos al importar (desarrollo)
VALIDATE_MODELS_ON_IMPORT=false

# =============================================================================
# URLS & ENDPOINTS
# =============================================================================
# URLs para templates de email
COMPANY_WEBSITE=https://yourcompany.com
UNSUBSCRIBE_URL=https://yourcompany.com/unsubscribe
SUPPORT_URL=https://yourcompany.com/support
PRIVACY_URL=https://yourcompany.com/privacy

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Solo para desarrollo local
DEV_SKIP_EMAIL_SENDING=false
DEV_LOG_EMAIL_CONTENT=false
DEV_FORCE_PROVIDER=mailpit

# Test recipients (para endpoints de testing)
TEST_RECIPIENTS=test@yourcompany.com,devteam@yourcompany.com

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Configuración de monitoring (opcional)
SENTRY_DSN=
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# Health check configuración
HEALTH_CHECK_REDIS=true
HEALTH_CHECK_PROVIDERS=true
HEALTH_CHECK_DATABASE=true

# =============================================================================
# BACKUP & CLEANUP
# =============================================================================
# Retención de logs y limpieza
LOG_RETENTION_DAYS=7
DB_RETENTION_DAYS=90
CLEANUP_ENABLED=true
CLEANUP_SCHEDULE="0 2 * * *"

# Database maintenance
DB_CLEANUP_ENABLED=true
DB_CLEANUP_HOUR=2

# =============================================================================
# ALERTING & NOTIFICATIONS
# =============================================================================
# Webhook for system alerts
ALERT_WEBHOOK_URL=
ADMIN_EMAIL_ALERTS=admin@yourcompany.com

# =============================================================================
# GENERIC API PROVIDER (Future use)
# =============================================================================
GENERIC_API_ENDPOINT=
GENERIC_API_KEY=
GENERIC_FROM_EMAIL=

# =============================================================================
# EJEMPLO DE CONFIGURACIÓN POR ENTORNO
# =============================================================================
# Para diferentes entornos, crear archivos separados:
# - .env.development
# - .env.staging  
# - .env.production
#
# Y cargar según ENVIRONMENT variable